<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<body>
	<ui:composition>

		<ui:param name="columnCount" value="#{columnCount==null?3:columnCount}" />
		
		<style>
			.c1{
				font-weight: bold;
				width: 200px;
			}
			.c2{
				width: 200px;
			}
			.c3{
				
			}
		</style>	

		<ui:decorate template="/template/formTemplate.xhtml">
			<ui:param name="uiController" value="#{souscriptionComptePersonneController}" />
			<ui:define name="contenu">
				<div class="souscriptionComptePersonneReserveA">
					<h:outputText value="#{constantResources.text('souscription.compte.personne.reserve.a')}" escape="false" />
				</div>
				
				<ui:include src="/identification/include/inputIdentite.xhtml">
					<ui:param name="personneDto" value="#{souscriptionComptePersonneController.demandeurDto}"/>
					<ui:param name="questionAgentEtat" value="#{not souscriptionComptePersonneController.inscriptionAgentEtat}" />
					<ui:param name="pieceIdentite" value="true" />
					<ui:param name="columnCount" value="6" />
				</ui:include>
								
				<p:spacer height="5"/>
			
				<p:fieldset legend="Sécuriser votre accès" rendered="#{souscriptionComptePersonneController.editable}">
					<div class="securiteAvertissement">
						<h:outputText value="#{constantResources.text('securite.avertissement')}" escape="false" />
					</div>
					
					<p:panelGrid columns="3" styleClass="panelGridNoBorder" columnClasses="c1,c2,c3">
						
						<h:outputText value="" /><h:outputText value="8 caractères au minimum" styleClass="inputDescription"/><h:outputText value="" />
							
						<p:outputLabel for="motdepasse" value="Mot de passe"  />
						<p:password id="motdepasse" value="#{souscriptionComptePersonneController.entity.motPasse}" required="true" requiredMessage="#{valueRequiredMessage}" size="30"
							autocomplete="false" match="cmotdepasse" feedback="true" weakLabel="Faible" goodLabel="Bon" strongLabel="Fort" promptLabel="Veuillez saisir un mot de passe"
							  />
						<p:message for="motdepasse"  />
						
						<p:outputLabel for="cmotdepasse" value="Confirmation du mot de passe"  />
						<p:password id="cmotdepasse" value="#{souscriptionComptePersonneController.confirmationMotPasse}" required="true" requiredMessage="#{valueRequiredMessage}" size="30"/>
						<p:message for="cmotdepasse"  />
						
						<p:outputLabel for="qusestionSecrete" value="Question secrète" />
						<p:selectOneMenu id="qusestionSecrete" value="#{souscriptionComptePersonneController.reponseSecrete.question}" required="true" requiredMessage="#{valueRequiredMessage}" 
							converter="#{objectConverter}" >
							<f:selectItem noSelectionOption="" itemLabel="#{noSelectionOptionMessage}"/>
							<f:selectItems value="#{questionSecretes}" />
						</p:selectOneMenu>
						<p:message for="qusestionSecrete" />
						
						<p:outputLabel for="rqs" value="Réponse à la question secrète"  />
						<p:inputText id="rqs" value="#{souscriptionComptePersonneController.reponseSecrete.libelle}" required="true" requiredMessage="#{valueRequiredMessage}" size="30" />
						<p:message for="rqs"  />
					
					</p:panelGrid>
				</p:fieldset>
				
				<!--
				<p:panelGrid columns="2" styleClass="panelGridNoBorder">
					<p:fieldset>
						<h:outputText value="Je certifie que les informations fournies sont correctes" />
						<p:panelGrid columns="2">
							<p:selectOneRadio id="certifie" required="true" requiredMessage="#{valueRequiredMessage}">
								<f:selectItem itemLabel="Oui" itemValue="true"/>
								<f:selectItem itemLabel="Non" itemValue="false"/>
							</p:selectOneRadio>
							<p:message for="certifie"/>
						</p:panelGrid>
					</p:fieldset>
					
				</p:panelGrid>
				-->
				<p:panelGrid styleClass="panelGridNoBorder" columns="1" rendered="#{souscriptionComptePersonneController.create and false}" > 
					<p:message for="captcha"/> 
					<p:captcha id="captcha" language="fr" required="true" requiredMessage="#{valueRequiredMessage}" validatorMessage="Le texte entré ne correspond pas"/>
				</p:panelGrid>
	
			</ui:define>
			
		</ui:decorate>
			
	</ui:composition>
</body>
</html>
