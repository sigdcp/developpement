<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<body>
	<ui:composition>
		
		<ui:param name="columnCount" value="#{columnCount==null?3:columnCount}" />
		
		<style>
			.c1{
				font-weight: bold;
				width: 200px;
			}
			.c2{
				width: 200px;
			}
			.c3{
				
			}
		</style>		
		
		<h:panelGrid columns="#{editable?columnCount:2}" styleClass="panelGridNoBorder" columnClasses="c1,c2,c3,c1,c2,c3">
			<p:outputLabel for="dateDeces" value="Décès survenu le" />
			<p:calendar id="dateDeces" value="#{enregistrerDemandeFOFormController.dossier.dateDeces}" required="true" pattern="#{constantResources.datePattern}"
				requiredMessage="#{valueRequiredMessage}" rendered="#{editable}" />
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.dateDeces}" rendered="#{not editable}"><f:convertDateTime pattern="#{constantResources.datePattern}"/></h:outputText>
			<p:message for="dateDeces" rendered="#{editable}" />
			
			<p:outputLabel for="villeDeces" value="Décès survenu dans la ville" />
			<p:selectOneMenu id="villeDeces" value="#{enregistrerDemandeFOFormController.dossier.lieuDeces}" required="true" requiredMessage="#{valueRequiredMessage}"
				converter="#{objectConverter}"	rendered="#{editable}">
				<f:selectItem noSelectionOption="" itemLabel="#{noSelectionOptionMessage}" />
				<f:selectItems value="#{villes}" />
			</p:selectOneMenu>
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.lieuDeces}" rendered="#{not editable}"/>
			<p:message for="villeDeces" rendered="#{editable}"/>
			
			<p:outputLabel for="lieuDeces" value="Lieu" />
			<p:inputText id="lieuDeces" required="true" requiredMessage="#{valueRequiredMessage}" />
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.lieuDeces}" rendered="#{not editable}"/>
			<p:message for="lieuDeces" />
		
			<p:outputLabel for="autopsie" value="Autopsié? " />
			<p:selectOneRadio id="autopsie" required="true" requiredMessage="#{valueRequiredMessage}" value="#{enregistrerDemandeFOFormController.dossier.autopsie}" rendered="#{editable}">
				<f:selectItem itemLabel="Oui" itemValue="true" />
				<f:selectItem itemLabel="Non" itemValue="false" />
			</p:selectOneRadio>
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.autopsie}" rendered="#{not editable}"/>
			<p:message for="autopsie" rendered="#{editable}"/>
			
			<p:outputLabel for="causeDeces" value="Cause" />
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.causeDeces}" rendered="#{not editable}"/>	
			<p:selectOneMenu id="causeDeces" value="#{enregistrerDemandeFOFormController.dossier.causeDeces}" required="true" requiredMessage="#{valueRequiredMessage}"
				converter="#{objectConverter}"	rendered="#{editable}">
				<f:selectItem noSelectionOption="" itemLabel="#{noSelectionOptionMessage}" />
				<f:selectItems value="#{causeDeces}" />
			</p:selectOneMenu>							
			<p:message for="causeDeces" rendered="#{editable}"/>
	
		</h:panelGrid>
			
		<p:fieldset legend="Agent constatataire" rendered="false">
			<ui:include src="/dossier/include/inputIdentite.xhtml" >
				<ui:param name="personneDto" value="#{enregistrerDemandeFOFormController.agentConstatataireDto}" />
				<ui:param name="dateNaissance" value="false" />
				<ui:param name="sexe" value="false" />
				<ui:param name="nationalite" value="false" />
				<ui:param name="contact" value="false" />
				<ui:param name="iid" value="agc" />
				<ui:param name="editable" value="#{editable}" />
			</ui:include>
		</p:fieldset>
		
		<h:panelGrid columns="3" styleClass="panelGridNoBorder" columnClasses="c1,c2,c3,c1,c2,c3">
			<p:outputLabel for="villeArrivee" value="Transfert de la dépouille à" />
			<p:selectOneMenu id="villeArrivee" value="#{enregistrerDemandeFOFormController.dossier.deplacement.localiteArrivee}" required="true" requiredMessage="#{valueRequiredMessage}"
				converter="#{objectConverter}" rendered="#{editable}">
				<f:selectItem noSelectionOption="" itemLabel="#{noSelectionOptionMessage}" />
				<f:selectItems value="#{villes}" />
			</p:selectOneMenu>
			<h:outputText value="#{enregistrerDemandeFOFormController.dossier.deplacement.localiteArrivee}" rendered="#{not editable}"/>
			<p:message for="villeArrivee" rendered="#{editable}"/>
		</h:panelGrid>															
	
	</ui:composition>
</body>
</html>
